##Config file for generic foxtrot packages
##Templated for the @PACKNAME@ package


@PACKAGE_INIT@

include (CMakeFindDependencyMacro)

@DEPS_SCRIPT@



if(EXISTS ${CMAKE_CURRENT_LIST_DIR}/@PACKNAME@exports.cmake)
  message(WARNING "foxtrot package: @PACKNAME@ is configuring from BUILD TREE! Make sure this is what you want!")

  set(@PACKNAME@prefix "${PACKAGE_PREFIX_DIR}/@SOURCEDIR_NAME@")
  list(APPEND CMAKE_INCLUDE_PATH "${PACKAGE_PREFIX_DIR}/@SOURCEDIR_NAME@/cmake")
  include(${CMAKE_CURRENT_LIST_DIR}/@PACKNAME@exports.cmake)


  if(EXISTS @SOURCEDIR_PATH@/cmake)
    message(STATUS "including cmake directory from source dir in module path...")	
    list(APPEND CMAKE_MODULE_PATH ${@PACKNAME@prefix}/cmake)
  endif()
else()
  message(STATUS "foxtrot package: @PACKNAME@ is configuring from install tree (normal behaviour)")
  list(APPEND CMAKE_MODULE_PATH "${CMAKE_CURRENT_LIST_DIR}")
  list(APPEND CMAKE_INCLUDE_PATH ${CMAKE_CURRENT_LIST_DIR})
  
  if(NOT TARGET foxtrot::@TARGETNAME@)
    include(${CMAKE_CURRENT_LIST_DIR}/@TARGETNAME@.cmake)
  #include(@PACKAGE_CMAKE_DEST@/@TARGETNAME@.cmake)
#    include(${PACKAGE_PREFIX_DIR}/lib/cmake/@PACKNAME@/@TARGETNAME@.cmake)
  else()
    message(STATUS  "targets were already declared, this configuration file did nothing")
  endif()
    
endif()



check_required_components(@TARGETNAME@)
