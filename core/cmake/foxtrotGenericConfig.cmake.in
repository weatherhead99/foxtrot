##Config file for generic foxtrot packages
##Templated for the @PACKNAME@ package


@PACKAGE_INIT@

include (CMakeFindDependencyMacro)

@DEPS_SCRIPT@



if(EXISTS ${CMAKE_CURRENT_LIST_DIR}/@PACKNAME@exports.cmake)
  message(WARNING "foxtrot package: @PACKNAME@ is configuring from BUILD TREE! Make sure this is what you want!")

  set(@PACKNAME@prefix "${PACKAGE_PREFIX_DIR}/@SOURCEDIR_NAME@")
  list(APPEND CMAKE_INCLUDE_PATH "${PACKAGE_PREFIX_DIR}/@SOURCEDIR_NAME@/cmake")
  include(${CMAKE_CURRENT_LIST_DIR}/@PACKNAME@exports.cmake)

  set_property(TARGET foxtrot::@TARGETNAME@ PROPERTY
    INTERFACE_INCLUDE_DIRECTORIES "${CMAKE_CURRENT_LIST_DIR};${@PACKNAME@prefix}/include")

  list(APPEND CMAKE_MODULE_PATH ${@PACKNAME@prefix}/cmake)  
else()
  message(STATUS "foxtrot package: @PACKNAME@ is configuring from install tree (normal behaviour)")
  list(APPEND CMAKE_MODULE_PATH "${CMAKE_CURRENT_LIST_DIR}")
  list(APPEND CMAKE_INCLUDE_PATH ${CMAKE_CURRENT_LIST_DIR})
  message(STATUS "outer list file: ${CMAKE_PARENT_LIST_FILE}")
  message(STATUS "this list file: ${CMAKE_CURRENT_LIST_FILE}")
  message(STATUS "current list dir: ${CMAKE_CURRENT_LIST_DIR}")
  message(STATUS "package prefix dir: ${PACKAGE_PREFIX_DIR}")
  message(STATUS "cmake destination: @PACKAGE_CMAKE_DEST@")
  
  if(NOT TARGET foxtrot::@TARGETNAME@)
    include(${CMAKE_CURRENT_LIST_DIR}/@TARGETNAME@.cmake)
  #include(@PACKAGE_CMAKE_DEST@/@TARGETNAME@.cmake)
#    include(${PACKAGE_PREFIX_DIR}/lib/cmake/@PACKNAME@/@TARGETNAME@.cmake)
  else()
    message(STATUS  "targets were already declared, this configuration file did nothing")
  endif()
    
endif()



check_required_components(@TARGETNAME@)
