#config file for foxtrot protocols

@PACKAGE_INIT@

set(foxtrot_protocols_PREFIX ${PACKAGE_PREFIX_DIR})

include(CMakeFindDependencyMacro)
find_dependency(foxtrotCore REQUIRED)
find_dependency(CURL REQUIRED)

if(EXISTS ${CMAKE_CURRENT_LIST_DIR}/installtree)
    message(WARNING "foxtrotProtocolsConfig configuring from BUILD TREE! You may not want this!")
    set(BUILD_TREE TRUE)
else()
    message(STATUS "foxtrotProtocolsConfig configuring from install tree (normal behaviour)")
    set(BUILD_TREE FALSE)
endif()


set(FOXTROT_PROTOCOLS_SUPPORTED "@protos@")

if("BulkUSB" IN_LIST FOXTROT_PROTOCOLS_SUPPORTED)
    find_dependency(libusb REQUIRED)
endif()


if(BUILD_TREE)
    include(${CMAKE_CURRENT_LIST_DIR}/foxtrotProtocolsexports.cmake)
    set_property(TARGET foxtrot::foxtrot_protocols APPEND PROPERTY
                 INTERFACE_INCLUDE_DIRECTORIES "@PACKAGE_ft_protocols_sourcedir@/include")
else()
    if(NOT TARGET foxtrot::foxtrot_protocols AND NOT foxtrot_protocols_BINARY_DIR)
        include(${foxtrot_protocols_PREFIX}/lib/cmake/foxtrotProtocols/foxtrot_protocols.cmake)
    endif()
endif()

check_required_components(foxtrot_protocols)
